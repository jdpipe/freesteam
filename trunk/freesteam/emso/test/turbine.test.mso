#* 
	freesteam stream integration for use in steam system calculations
	
	Based on steam.mso by Rafael de Pelegrini Soares,

	Copyright 2002-2005 Rafael de Pelegrini Soares.
	Modified by John Pye 2005 http://freesteam.sf.net
	
	This copyright statement must not be deleted and must be
	included in any modification or adaptation of this Model.
*#

using "streams";
using "turbine";


FlowSheet TurbineTest_ideal # DF = 0 ?
		
	DEVICES # DF = 11
	S1 as Stream_pT;      # DF = 3
	S2 as Stream;
	TU as Turbine_ideal;  # DF = 8
	
	CONNECTIONS # DF = -7
	S1 to TU.In;          # DF - 7
	TU.Out to S2;
	
	SPECIFY # DF = -4
	"Inlet flowrate"
	S1.mdot = 20000 * "kg/h";
	 
	"Inlet pressure"
	S1.p = 4.32 * "MPa";
	
	"Inlet temperature"
	S1.T = 670.65 * "K";
		
	"Outlet pressure"
	TU.Out.p = 1.569 * "MPa";
	
	#TU.P = 500 * "W";
	
	OPTIONS
	outputLevel = "all";
	mode="steady";
end

FlowSheet TurbineTest 
	
	DEVICES
	S1 as Stream_pT;
	S2 as Stream;
	TU as Turbine;
	
	CONNECTIONS
	S1 to TU.In;
	TU.Out to S2;
	
	SPECIFY
	S1.mdot = 20000 * "kg/h";
	S1.p = 4.32 * "MPa";
	S1.T = 670.65 * "K";
	
	TU.eta = .83;
	
	TU.Out.p = 1.569 * "MPa";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
	
end

#*
	Test turbine using intrinsic parameters
*#
FlowSheet TurbineTest2
	
	DEVICES
	S1 as Stream_pT;
	S2 as Stream;
	TU as Turbine;
	
	CONNECTIONS
	S1 to TU.In;
	TU.Out to S2;
	
	SPECIFY
	S1.mdot = 10 * "kg/s";
	S1.p = 58 * "bar";
	S1.T = (300 + 273.15) * "K";
	
	TU.eta = .85;
	TU.Dp = -50 * "bar";
	# TU.P = 2 * "MW";
	#TU.Out.p = 1.569 * "MPa";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
	
end