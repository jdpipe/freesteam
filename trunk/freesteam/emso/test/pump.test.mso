#* 
	freesteam stream integration for use in steam system calculations
	
	Based on steam.mso by Rafael de Pelegrini Soares,

	Copyright 2002-2005 Rafael de Pelegrini Soares.
	Modified by John Pye 2005 http://freesteam.sf.net
	
	This copyright statement must not be deleted and must be
	included in any modification or adaptation of this Model.
*#

using "streams";
using "pump";

FlowSheet PumpTest
	
	DEVICES
	S1 as Stream_pT;
	PU as Pump;
	
	CONNECTIONS
	S1 to PU.In;
	
	SPECIFY
	
	"Flow rate"
	S1.mdot = 27 * "kg/min";
	
	"Inlet pressure"
	S1.p = 50 * "bar";
	
	"Inlet temperature"
	S1.T = 450 * "K";
	
	
	"Efficiency"
	PU.eta = 0.9;
	
	"Output pressure"
	PU.Out.p = 65 * "bar";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
end

FlowSheet PumpTest2
	
	DEVICES
	S1 as Stream_pT;
	PU as Pump;
	
	CONNECTIONS
	S1 to PU.In;
	
	SPECIFY
	
	"Flow rate"
	S1.mdot = 30 * "kg/s";
	
	"Inlet pressure"
	S1.p = 1.5 * "bar";
	
	"Inlet temperature"
	S1.T = 380 * "K";
	
	
	"Efficiency"
	PU.eta = 0.65;
	
	"Output pressure"
	PU.Out.p = 60 * "bar";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
end

FlowSheet PumpWithCurveTest

	DEVICES
	S1 as Stream_pT;
	PU as PumpWithCurve;
	
	CONNECTIONS
	S1 to PU.In;

	SPECIFY
	PU.H_max = 10 * "m" * 20;
	PU.Q_max = 10 * 0.001 * "m^3/s";
	PU.N_1 = 2000 * "1/min";
	PU.eta = 0.65;
	
	PU.Dp = 10 * "bar";
	PU.N = 3000 * "1/min";
	
	S1.p = 50 * "bar";
	S1.T = (200 + 273.15) * "K";
	S1.mdot=1000 *"kg/m^3" * 5 * 0.001 * "m^3/s";
	
	OPTIONS
	mode="steady";
	
end
