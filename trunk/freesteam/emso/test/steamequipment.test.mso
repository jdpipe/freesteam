#*
	Test a totally trivial steam equipment connection: an equipment that is a zero-loss pipe, that passes through
	its input state to its output.
*#

using "steamequipment";
using "newtypes";
using "streams";

FlowSheet SteamEquipment_Test # 0

	PARAMETERS
	freesteam as CalcObject(File = "emsofreesteam");
	
	DEVICES 
	S1 as Stream_pT; # 5
	S2 as Stream; # 5
	EQ as SteamEquipment; # 5
	
	CONNECTIONS # -10
	S1 to EQ.In;
	EQ.Out to S2;
	
	SPECIFY # -5
	S1.p = 10 * "bar";
	S1.T = 300 * "K";
	S1.mdot = 5 * "kg/s";
	
	EQ.In.p = EQ.Out.p;
	EQ.In.s = EQ.Out.s;
	EQ.In.T = EQ.Out.T;
	EQ.In.mdot= EQ.Out.mdot;
	EQ.H = 0 * "J";
	EQ.Qdot = 0 * "W";
	EQ.Wdot = 0 * "W";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
	LASolver = "dense";

end
