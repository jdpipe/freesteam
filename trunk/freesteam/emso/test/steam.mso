#* 
	freesteam stream integration for use in steam system calculations
	
	Based on steam.mso by Rafael de Pelegrini Soares,

	Copyright 2002-2005 Rafael de Pelegrini Soares.
	Modified by John Pye 2005 http://freesteam.sf.net
	
	This copyright statement must not be deleted and must be
	included in any modification or adaptation of this Model.
*#

using "newtypes";

#*
	Properties of steam

	The properties are defined here, but they are all remaining to be related,
	according to the requirements of whatever model is derived from this one.
*#
Model Steam_Base
	
	VARIABLES

	T as AbsoluteTemperature(    Lower=273.15, Upper=1073.15,Default = 600);
	p as Pressure(               Lower=0,      Upper=100,    Default = 10 );
	h as SpecificEnthalpy(       Lower=0,      Upper=1e4,    Default=4000 );
	s as SpecificEntropy(        Lower=0,      Upper=10,     Default=7 );
	v as SpecificVolume(         Lower=0,      Upper=1100,   Default=0.1 );
	u as SpecificInternalEnergy( Lower=0,      Upper=3800,   Default = 2200);
	x as Quality;

	EQUATIONS
	h = u + p * v;
	
end

Model Steam_ps as Steam_Base

	PARAMETERS
	ext freesteam as CalcObject(Brief="Freesteam IAPWS calculator");
		
	EQUATIONS
	"Steam properties"
	[T, u, v, x] = freesteam.Tuvx_ps(p, s);	

end
