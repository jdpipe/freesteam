#* 
	Closed-cycle test flowsheet for EMSO
	Model aims to show floating system pressure in response to supplied heat input...
	
	John Pye 2005 http://freesteam.sf.net
*#

using "streams";
using "turbine";
using "boiler";
using "pump";
using "condenser";
using "throttle";

FlowSheet CycleTest2
	
	PARAMETERS
	freesteam as CalcObject(File="emsofreesteam");
	
    DEVICES # 31 DF
    BO	as Boiler;     # 7
	TU	as Turbine_ideal;    # 7
	CO	as Condenser;  # 7
	PU 	as Pump;       # 7
	
	CONNECTIONS # BO -> TU -> CO -> TH -> BO  ... -25 DF
	BO.Out	to	TU.In; # -5
	TU.Out	to  CO.In; # -5 
	CO.Out	to  PU.In; # -5
	PU.Out	to  BO.In; # -5
 
	SPECIFY # -8 DF
	
	# Boiler
	BO.Dp = -2 * "bar";
	BO.q = 113 * "MW";
	# BO.Out.T = (400 + 273.15) * "K";
	
	# Turbine
	# TU.eta = 0.85;
	TU.Out.p = 2.0 * "bar";
	
	# Condenser
	CO.Dp = 0 * "bar";
	# CO.Out.T = (50 + 273.15) * "K";
	CO.x = 0.00001;
	# CO.Out.p = 0.05 * "bar";
	
	# Pump
	PU.eta = 0.65;
	#PU.Dp = 58.5 * "bar";
	#PU.Out.p = 60 * "bar";
	
	"System-wide energy conservation"
	BO.q + PU.P = CO.q + TU.P;
	
	GUESS
	TU.Out.s = 6 * "kJ/kg";
	TU.Out.p = 0.05 * "bar";
	
	OPTIONS
	mode = "steady";
	outputLevel = "all";
end
