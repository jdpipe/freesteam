using "pipeexternal";

#*
	Test the CalcObject version of the pipe pressure
	drop calculator.
	
	DOESN'T WORK - DIVERGENT
*#
FlowSheet PipeExternalTest
	
	DEVICES
	PI as PipeExternal;
	S1 as Stream_pT;
	
	CONNECTIONS
	S1 to PI.In;

	SPECIFY
	PI.Qdot = 0 * "W";
	
	S1.p = 4 * "bar";
	S1.T = (25 + 273.15) * "K";
	S1.mdot = 1 * "kg/s";

	SET
	PI.D = 0.025 * "m";
	PI.L = 15 * "m";
	PI.eps = 46e-6 * "m";
	
	GUESS
	PI.Out.p = 4.1  * "bar";
	PI.Out.h = 99.6 * "kJ/kg";

	PI.rho = 1000 * "kg/m^3";
	PI.vel = 2 * "m/s";
	PI.A = 7.8e-5 * "m^2";	
	PI.Re = 20000;
	PI.f = 0.02;
	PI.mu = 1e-3 * "Pa*s";	
	
	OPTIONS
	mode="steady";
	outputLevel="high";
end
