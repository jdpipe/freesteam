#* 
    freesteam stream integration for use in steam system calculations
    
    Based on steam.mso by Rafael de Pelegrini Soares,

    Copyright 2002-2005 Rafael de Pelegrini Soares.
    Modified by John Pye 2005 http://freesteam.sf.net
    
    This copyright statement must not be deleted and must be
    included in any modification or adaptation of this Model.
*#

using "streams";

#** 
    Basic steam equipment item with one inlet and outlet stream.

	Now with added first law...
*#
Model SteamEquipment # DF = 10

    VARIABLES
	in  In  as Stream;
	out Out as Stream;
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	
end

Model SteamEquipment_ph # DF = 8

    VARIABLES
	in  In  as Stream;
	out Out as Stream_ph;   
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	
	

end

Model SteamEquipment_ps # DF = 8

    VARIABLES
	in  In  as Stream;
	out Out as Stream_ps;   
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	

end

Model SteamEquipment_Ts # DF = 8

    VARIABLES
	in  In  as Stream;
	out Out as Stream_Ts;   
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	

end

Model SteamEquipment_Th # DF = 8

    VARIABLES
	in  In  as Stream;
	out Out as Stream_Th;   
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	

end

Model SteamEquipment_pT # DF = 8

    VARIABLES
	in  In  as Stream;
	out Out as Stream_pT;   
	Qdot as HeatRate(Brief = "Heat supplied to component from environment");
	Wdot as Power(Brief = "Work done by fluid on environment");
	H as Enthalpy(Brief = "Enthalpy of fluid in the control volume");
	m as Mass(Brief = "Mass of fluid in the control volume");
	
	SPECIFY
	Qdot - Wdot = Out.mdot * Out.h - In.mdot * In.h + diff(H);
	diff(m) = In.mdot - Out.mdot;
	
end
