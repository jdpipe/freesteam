<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>freesteam: units.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>units.h</h1><pre class="fragment"><div>00001 <span class="comment">/*</span>
00002 <span class="comment"></span>
00003 <span class="comment">freesteam - IAPWS-IF97 steam tables library</span>
00004 <span class="comment">Copyright (C) 2004-2005  John Pye</span>
00005 <span class="comment"></span>
00006 <span class="comment">This program is free software; you can redistribute it and/or</span>
00007 <span class="comment">modify it under the terms of the GNU General Public License</span>
00008 <span class="comment">as published by the Free Software Foundation; either version 2</span>
00009 <span class="comment">of the License, or (at your option) any later version.</span>
00010 <span class="comment"></span>
00011 <span class="comment">This program is distributed in the hope that it will be useful,</span>
00012 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00014 <span class="comment">GNU General Public License for more details.</span>
00015 <span class="comment"></span>
00016 <span class="comment">You should have received a copy of the GNU General Public License</span>
00017 <span class="comment">along with this program; if not, write to the Free Software</span>
00018 <span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
00019 <span class="comment"></span>
00020 <span class="comment">For this file,</span>
00021 <span class="comment">        Original Author:  Christopher Rettig ( rettigcd@bigfoot.com )</span>
00022 <span class="comment"></span>
00023 <span class="comment">*/</span>
00024 
00025 <span class="preprocessor">#ifndef UNITS_H</span>
00026 <span class="preprocessor"></span>
00027 <span class="preprocessor">#define UNITS_H</span>
00028 <span class="preprocessor"></span>
00029 <span class="preprocessor">#include "isinfnan.h"</span>
00030 
00031 <span class="preprocessor">#include &lt;iostream&gt;</span>
00032 <span class="preprocessor">#include &lt;sstream&gt;</span>
00033 <span class="preprocessor">#include &lt;cmath&gt;</span>
00034 
00035 <span class="preprocessor">#define CHECK_UNITS</span>
00036 <span class="preprocessor"></span>
00037 <span class="comment">// All of the reinterpret casts are work-arounds to let us make</span>
00038 <span class="comment">// val &amp; Units(double) private without using friends</span>
00039 
00040 
00042 
00069 <span class="keyword">template</span>&lt; <span class="keywordtype">int</span> M ,<span class="keywordtype">int</span> L=0 ,<span class="keywordtype">int</span> T=0 ,<span class="keywordtype">int</span> K=0 ,<span class="keywordtype">int</span> I=0 &gt;
<a name="l00070"></a><a class="code" href="class_units.html">00070</a> <span class="keyword">class </span><a class="code" href="class_units.html">Units</a> {
00071 
00072         <span class="keyword">public</span>:
00073 
00074                 <a class="code" href="class_units.html">Units</a>():d_val(1.0){}    <span class="comment">// only used to consturct base units</span>
00075                 <a class="code" href="class_units.html">Units</a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u ):d_val( u.<a class="code" href="class_units.html#r0">d_val</a> ){}
00076                 <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; operator=( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u ){       d_val=u.<a class="code" href="class_units.html#r0">d_val</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00077 
00078                 <span class="comment">// Scalar mulitplication &amp; division</span>
00079                 <a class="code" href="class_units.html">Units</a> operator*( <span class="keywordtype">double</span> d )<span class="keyword"> const </span>{ <a class="code" href="class_units.html">Units</a> u; u.<a class="code" href="class_units.html#r0">d_val</a>=d_val*d; <span class="keywordflow">return</span> u; }
00080                 <a class="code" href="class_units.html">Units</a> <a class="code" href="class_units.html#a19">operator/</a>( <span class="keywordtype">double</span> d )<span class="keyword"> const </span>{ <a class="code" href="class_units.html">Units</a> u; u.<a class="code" href="class_units.html#r0">d_val</a>=d_val/d; <span class="keywordflow">return</span> u; }
00081                 <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; operator*=( <span class="keywordtype">double</span> d ) { d_val*=d; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00082                 <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; operator/=( <span class="keywordtype">double</span> d ) { d_val/=d; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00083 
00084                 <span class="comment">// Unit additions &amp; subtraction</span>
00085                 <a class="code" href="class_units.html">Units</a> operator+( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <a class="code" href="class_units.html">Units</a> v; v.<a class="code" href="class_units.html#r0">d_val</a>=d_val+u.<a class="code" href="class_units.html#r0">d_val</a>; <span class="keywordflow">return</span> v; }
00086                 <a class="code" href="class_units.html">Units</a> operator-( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <a class="code" href="class_units.html">Units</a> v; v.<a class="code" href="class_units.html#r0">d_val</a>=d_val-u.<a class="code" href="class_units.html#r0">d_val</a>; <span class="keywordflow">return</span> v; }
00087                 <a class="code" href="class_units.html">Units</a>&amp; operator+=( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u ) { d_val+=u.<a class="code" href="class_units.html#r0">d_val</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00088                 <a class="code" href="class_units.html">Units</a>&amp; operator-=( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u ) { d_val-=u.<a class="code" href="class_units.html#r0">d_val</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
00089                 <a class="code" href="class_units.html">Units</a> operator-()<span class="keyword"> const </span>{ <a class="code" href="class_units.html">Units</a> u; u.<a class="code" href="class_units.html#r0">d_val</a>=-d_val; <span class="keywordflow">return</span> u; }
00090 
00091                 <span class="comment">// Comparisons</span>
<a name="l00092"></a><a class="code" href="class_units.html#a12">00092</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a12">operator==</a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val==u.<a class="code" href="class_units.html#r0">d_val</a>; } 
<a name="l00093"></a><a class="code" href="class_units.html#a13">00093</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a13">operator!=</a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val!=u.<a class="code" href="class_units.html#r0">d_val</a>; } 
<a name="l00094"></a><a class="code" href="class_units.html#a14">00094</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a14">operator&lt; </a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val&lt; u.<a class="code" href="class_units.html#r0">d_val</a>; } 
<a name="l00095"></a><a class="code" href="class_units.html#a15">00095</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a15">operator&lt;=</a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val&lt;=u.<a class="code" href="class_units.html#r0">d_val</a>; } 
<a name="l00096"></a><a class="code" href="class_units.html#a16">00096</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a16">operator&gt; </a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val&gt; u.<a class="code" href="class_units.html#r0">d_val</a>; } 
<a name="l00097"></a><a class="code" href="class_units.html#a17">00097</a>                 <span class="keywordtype">bool</span> <a class="code" href="class_units.html#a17">operator&gt;=</a>( <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a>&amp; u )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> d_val&gt;=u.<a class="code" href="class_units.html#r0">d_val</a>; } 
00098 
00099                 <span class="comment">// Scalar typecast</span>
00100                 <span class="keyword">inline</span> <a class="code" href="class_units.html#a18">operator double</a>() const; <span class="comment">// Deliberately not defined, will cause linker errors if called.</span>
00101 
00103                 template&lt; <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> k, <span class="keywordtype">int</span> i &gt;
00104                 <a class="code" href="class_units.html">Units</a>&lt;M-m,L-l,T-t,K-k,I-i&gt;
<a name="l00105"></a><a class="code" href="class_units.html#a19">00105</a>                 operator/( const <a class="code" href="class_units.html">Units</a>&lt;m,l,t,k,i&gt;&amp; u2 )<span class="keyword"> const </span>{
00106                         <a class="code" href="class_units.html">Units</a>&lt;M-m,L-l,T-t,K-k,I-i&gt; r;
00107                         *reinterpret_cast&lt;double*&gt;(&amp;r) = d_val/ *reinterpret_cast&lt;const double*&gt;(&amp;u2);
00108                         <span class="keywordflow">return</span> r;
00109                 }
00110 
00111         <span class="keyword">private</span>:
00112 
00113                 <span class="comment">//bool hello;</span>
00114                 <span class="keywordtype">double</span> d_val;
00115 
00116                 <span class="comment">// used by */+- to make returning values easy</span>
00117                 <span class="comment">//Units( double val ):d_val(val){}</span>
00118 
00119 };
00120 
00121 
00123 
<a name="l00126"></a><a class="code" href="class_units.html#a18">00126</a> <span class="keyword">inline</span> <a class="code" href="class_units.html#a18">Units&lt;0,0,0,0,0&gt;::operator double</a>()<span class="keyword"> const </span>{
00127         <span class="keywordflow">return</span> d_val;
00128 }
00129 
00130 
00132 <span class="keyword">template</span>&lt; <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> k, <span class="keywordtype">int</span> i &gt;
00133 <span class="keyword">inline</span>
00134 <a class="code" href="class_units.html">Units&lt;m,l,t,k,i&gt;</a>
00135 operator*( <span class="keywordtype">double</span> d, <span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;m,l,t,k,i&gt;</a> &amp;u) {
00136         <span class="keywordflow">return</span> u*d;
00137 }
00138 
00139 
00140 <span class="comment">/*</span>
00141 <span class="comment">// Scalar Multiplication &amp; Division</span>
00142 <span class="comment">template&lt; int m, int l, int t, int k, int i &gt;</span>
00143 <span class="comment">inline</span>
00144 <span class="comment">Units&lt;m,l,t,k,i&gt;</span>
00145 <span class="comment">operator*(const Units&lt;m,l,t,k,i&gt; &amp;u,  double d) {</span>
00146 <span class="comment">        return u*d;</span>
00147 <span class="comment">}</span>
00148 <span class="comment">*/</span>
00149 
00151 <span class="keyword">template</span>&lt; <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> k,<span class="keywordtype">int</span> i &gt;
00152 <span class="keyword">inline</span>
00153 <a class="code" href="class_units.html">Units</a>&lt;-m,-l,-t,-k,-i&gt;
00154 operator/( <span class="keywordtype">double</span> d, <span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;m,l,t,k,i&gt;</a>&amp; u) {
00155         <a class="code" href="class_units.html">Units</a>&lt; -m, -l, -t, -k, -i &gt; r;
00156         *reinterpret_cast&lt;double*&gt;(&amp;r) = d / *reinterpret_cast&lt;const double*&gt;(&amp;u);
00157         <span class="keywordflow">return</span> r;
00158 }
00159 
00160 
00162 <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I,  <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> k, <span class="keywordtype">int</span> i &gt;
00163 <a class="code" href="class_units.html">Units&lt;M+m,L+l,T+t,K+k,I+i &gt;</a>
00164 operator*(<span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a>&amp; u1, <span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;m,l,t,k,i&gt;</a>&amp; u2 ){
00165         <a class="code" href="class_units.html">Units&lt;M+m,L+l,T+t,K+k,I+i&gt;</a> r;
00166         *reinterpret_cast&lt;double*&gt;(&amp;r) = *reinterpret_cast&lt;const double*&gt;(&amp;u1) * *reinterpret_cast&lt;const double*&gt;(&amp;u2);
00167         <span class="keywordflow">return</span> r;
00168 }
00169 
00170 <span class="comment">/*</span>
00172 <span class="comment">template &lt; int M, int L, int T, int K, int I &gt;</span>
00173 <span class="comment">inline</span>
00174 <span class="comment">bool</span>
00175 <span class="comment">eq(const Units&lt;M,L,T,K,I&gt; u, const Units&lt;M,L,T,K,I&gt; v, double tol = UNITS_DEFAULT_TOL) {</span>
00176 <span class="comment">        double d = fabs(*reinterpret_cast&lt;const double*&gt;(&amp;u) - *reinterpret_cast&lt;const double*&gt;(&amp;v));</span>
00177 <span class="comment">        if (d &gt; tol) return false;</span>
00178 <span class="comment">        return true;</span>
00179 <span class="comment">}</span>
00180 <span class="comment">*/</span>
00181 
00183 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00184 <span class="keyword">inline</span>
00185 <span class="keywordtype">bool</span>
00186 eq(<span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a> &amp;u, <span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a> &amp;v, <span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a> &amp;tol) {
00187         <span class="keywordflow">if</span>(fabs(u-v) &lt; tol){
00188                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00189         }
00190         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00191 }
00192 
00193 <span class="comment">// Absolute value</span>
00194 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00195 <span class="keyword">inline</span>
00196 <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a>
00197 fabs(<span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a> u) {
00198         <span class="keywordflow">if</span> (*reinterpret_cast&lt;const double*&gt;(&amp;u) &lt; 0) {
00199                 Units &lt; M, L, T, K, I &gt; r;
00200                 *reinterpret_cast&lt;double*&gt;(&amp;r) = - *reinterpret_cast&lt;const double*&gt;(&amp;u);
00201                 <span class="keywordflow">return</span> r;
00202         } <span class="keywordflow">else</span> {
00203                 <span class="keywordflow">return</span> u;
00204         }
00205 }
00206 
00208 
00211 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00212 <span class="keyword">inline</span> <a class="code" href="class_units.html">Units&lt;2*M, 2*L, 2*T, 2*K, 2*I&gt;</a>
00213 sq(<span class="keyword">const</span> Units &lt; M, L, T, K, I &gt; u) {
00214         <span class="keywordflow">return</span> u * u;
00215 }
00216 
00218 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00219 <span class="keyword">inline</span> <a class="code" href="class_units.html">Units&lt;3*M, 3*L, 3*T, 3*K, 3*I&gt;</a>
00220 cube(<span class="keyword">const</span> Units &lt; M, L, T, K, I &gt; u) {
00221         <span class="keywordflow">return</span> u * u * u;
00222 }
00223 
00224 <span class="comment">// Square root (integer powers of units only)</span>
00225 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00226 <span class="keyword">inline</span> <a class="code" href="class_units.html">Units&lt;M, L, T, K, I&gt;</a>
00227 sqrt(<span class="keyword">const</span> Units &lt; 2*M, 2*L, 2*T, 2*K, 2*I &gt; u) {
00228         <a class="code" href="class_units.html">Units&lt;M, L, T, K, I&gt;</a> r;
00229         <span class="keywordtype">double</span> n = (*reinterpret_cast&lt;const double*&gt;(&amp;u));
00230         *reinterpret_cast&lt;double*&gt;(&amp;r) = sqrt(n);
00231         <span class="keywordflow">return</span> r;
00232 }
00233 
00234 <span class="comment">// Not-a-Number test</span>
00235 
00236 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00237 <span class="keyword">inline</span> <span class="keywordtype">bool</span> isnan(<span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a>&amp; u){
00238         <span class="keywordflow">return</span> isnan(*reinterpret_cast&lt;const double*&gt;(&amp;u));
00239 }
00240 
00241 <span class="comment">// Infinity test</span>
00242 
00243 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> M, <span class="keywordtype">int</span> L, <span class="keywordtype">int</span> T, <span class="keywordtype">int</span> K, <span class="keywordtype">int</span> I &gt;
00244 <span class="keyword">inline</span> <span class="keywordtype">bool</span> isinf(<span class="keyword">const</span> <a class="code" href="class_units.html">Units&lt;M,L,T,K,I&gt;</a>&amp; u){
00245         <span class="keywordflow">return</span> isinf(*reinterpret_cast&lt;const double*&gt;(&amp;u));
00246 }
00247 
00248 <span class="comment">// OUTPUT</span>
00249 
00250 <span class="keyword">template</span> &lt; <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> l, <span class="keywordtype">int</span> t, <span class="keywordtype">int</span> k, <span class="keywordtype">int</span> i &gt;
00251 <span class="keyword">inline</span>
00252 std::ostream &amp; operator &lt;&lt;(std::ostream &amp; os, <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a> &lt; m,
00253                            l, t, k, i &gt; &amp;u) {
00254         <span class="keywordtype">double</span> d = *reinterpret_cast&lt;const double*&gt;(&amp;u);
00255         os &lt;&lt; d;
00256         os.flags() &amp; std::ios_base::showbase &amp;&amp; os &lt;&lt; <span class="stringliteral">" (dim)"</span>;
00257         <span class="keywordflow">return</span> os;
00258 }
00259 
00260 <span class="keyword">inline</span>
00261 std::ostream &amp; operator &lt;&lt;(std::ostream &amp; os, <span class="keyword">const</span> <a class="code" href="class_units.html">Units</a> &lt; 0,
00262                            0, 0, 0, 0 &gt; &amp;u) {
00263         <span class="keywordtype">double</span> d = *reinterpret_cast&lt;const double*&gt;(&amp;u);
00264         os &lt;&lt; d;
00265         <span class="keywordflow">return</span> os;
00266 }
00267 
00268 <span class="preprocessor">#define DEFINE_OUTPUT_METHOD(MM,LL,TT,KK,II,UNITS) \</span>
00269 <span class="preprocessor">                inline \</span>
00270 <span class="preprocessor">                std::ostream&amp; operator &lt;&lt;(std::ostream &amp;os,const Units&lt;MM,LL,TT,KK,II&gt; &amp;u){ \</span>
00271 <span class="preprocessor">                        double d = *reinterpret_cast&lt;const double*&gt;(&amp;u); \</span>
00272 <span class="preprocessor">                        os &lt;&lt; d; \</span>
00273 <span class="preprocessor">                        os.flags() &amp; std::ios_base::showbase &amp;&amp; os &lt;&lt; " " &lt;&lt; UNITS; \</span>
00274 <span class="preprocessor">                        return os; \</span>
00275 <span class="preprocessor">                }</span>
00276 <span class="preprocessor"></span>
00277 DEFINE_OUTPUT_METHOD( 0,  1,  0,  0,  0, <span class="stringliteral">"m"</span>);
00278 DEFINE_OUTPUT_METHOD( 0,  0,  1,  0,  0, <span class="stringliteral">"s"</span>);
00279 DEFINE_OUTPUT_METHOD( 0,  1, -1,  0,  0, <span class="stringliteral">"m/s"</span>);
00280 DEFINE_OUTPUT_METHOD( 1,  0,  0,  0,  0, <span class="stringliteral">"kg"</span>);
00281 DEFINE_OUTPUT_METHOD( 0,  0,  0,  1,  0, <span class="stringliteral">"K"</span>);
00282 DEFINE_OUTPUT_METHOD( 1, -1, -2,  0,  0, <span class="stringliteral">"Pa"</span>);
00283 DEFINE_OUTPUT_METHOD(-1,  3,  0,  0,  0, <span class="stringliteral">"m³/kg"</span>);
00284 DEFINE_OUTPUT_METHOD( 0,  2, -2, -1,  0, <span class="stringliteral">"J/kgK"</span>);
00285 DEFINE_OUTPUT_METHOD( 0,  2, -2,  0,  0, <span class="stringliteral">"J/kg"</span>);
00286 DEFINE_OUTPUT_METHOD( 1, -3,  0,  0,  0, <span class="stringliteral">"kg/m³"</span>);
00287 
00288 <span class="comment">//--------------------------------</span>
00289 <span class="comment">// BASE MEASURES</span>
00290 
00291 <span class="keyword">typedef</span> Units &lt; 1 &gt; <a class="code" href="class_units.html">Mass</a>;
00292 <span class="keyword">typedef</span> Units &lt; 0,  1 &gt; <a class="code" href="class_units.html">Length</a>;
00293 <span class="keyword">typedef</span> Units &lt; 0,  0,  1 &gt; <a class="code" href="class_units.html">Time</a>;
00294 <span class="keyword">typedef</span> Units &lt; 0,  0,  0,  1 &gt; <a class="code" href="class_units.html">Temperature</a>;
00295 <span class="keyword">typedef</span> Units &lt; 0,  0,  0,  0,  1 &gt; <a class="code" href="class_units.html">Current</a>;
00296 
00297 <span class="comment">//--------------------------------</span>
00298 <span class="comment">// DERIVED MEASURES</span>
00299 
00300 <span class="keyword">typedef</span> Units &lt; 0,  2 &gt; <a class="code" href="class_units.html">Area</a>;
00301 <span class="keyword">typedef</span> Units &lt; 0,  3 &gt; <a class="code" href="class_units.html">Volume</a>;
00302 
00303 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -3 &gt; <a class="code" href="class_units.html">Density</a>;
00304 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt;-1,  3 &gt; <a class="code" href="class_units.html">SpecificVolume</a>;
00305 
00306 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -3, -1&gt; <a class="code" href="class_units.html">DensityPerTime</a>;
00307 
00308 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  0, -1&gt; <a class="code" href="class_units.html">Frequency</a>;
00309 
00310 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  1, -2 &gt; <a class="code" href="class_units.html">Force</a>;
00311 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -1, -2 &gt; <a class="code" href="class_units.html">Pressure</a>;
00312 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  1, -1 &gt; <a class="code" href="class_units.html">Velocity</a>;
00313 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  1, -2 &gt; <a class="code" href="class_units.html">Acceleration</a>;
00314 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -2 &gt; <a class="code" href="class_units.html">Torque</a>;
00315 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -2 &gt; <a class="code" href="class_units.html">Energy</a>;
00316 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -3 &gt; <a class="code" href="class_units.html">Power</a>;
00317 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  2, -2 &gt; <a class="code" href="class_units.html">SpecificEnergy</a>;
00318 
00319 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -1, -1 &gt; <a class="code" href="class_units.html">DynamicViscosity</a>;
00320 
00321 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  1, -3 &gt; <a class="code" href="class_units.html">PowerPerLength</a>;
00322 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -2, -2 &gt; <a class="code" href="class_units.html">PressurePerLength</a>;
00323 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  0, -2 &gt; <a class="code" href="class_units.html">ForcePerLength</a>;
00324 
00325 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -1, -3 &gt; <a class="code" href="class_units.html">DensitySpecificEnergyPerTime</a>;
00326 
00327 <span class="comment">// Thermodynamics</span>
00328 
00329 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -2, -1 &gt; <a class="code" href="class_units.html">Entropy</a>;
00330 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  2, -2, -1 &gt; <a class="code" href="class_units.html">SpecificEntropy</a>;
00331 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  1, -3, -1 &gt; <a class="code" href="class_units.html">Conductivity</a>;
00332 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  0, -3, -1 &gt; <a class="code" href="class_units.html">HeatTransferCoefficient</a>;
00333 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt;-1,  0,  3,  1 &gt; <a class="code" href="class_units.html">ThermalResistance</a>;
00334 
00335 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  1, -2, -1 &gt; <a class="code" href="class_units.html">HeatCapacityPerLength</a>;
00336 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -3, -1 &gt; <a class="code" href="class_units.html">PowerPerTemperature</a>;
00337 
00338 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  0,  0, -1 &gt; <a class="code" href="class_units.html">ThermalExpansionCoefficient</a>;
00339 
00340 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 0,  3, -1 &gt; <a class="code" href="class_units.html">VolFlowRate</a>;
00341 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  0, -1 &gt; <a class="code" href="class_units.html">MassFlowRate</a>;
00342 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -1, -1 &gt; <a class="code" href="class_units.html">MassFlowRatePerLength</a>;
00343 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  0, -2 &gt; <a class="code" href="class_units.html">MassFlowRatePerTime</a>;
00344 
00345 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  0, -3 &gt; <a class="code" href="class_units.html">HeatFlux</a>;
00346 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1, -2, -1 &gt; <a class="code" href="class_units.html">MassFlux</a>;
00347 
00348 <span class="comment">// Electrical</span>
00349 
00350 <span class="keyword">typedef</span> Units &lt; 0,  0,  1,  0,  1 &gt; <a class="code" href="class_units.html">Charge</a>;
00351 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -3,  0, -1 &gt; <a class="code" href="class_units.html">ElecPotential</a>;
00352 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -4,  0, -2 &gt; <a class="code" href="class_units.html">Capacitance</a>;
00353 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt; 1,  2, -3,  0, -2 &gt; <a class="code" href="class_units.html">Resistance</a>;
00354 <span class="keyword">typedef</span> <a class="code" href="class_units.html">Units</a> &lt;-1, -2,  3,  0,  2 &gt; <a class="code" href="class_units.html">Conductance</a>;
00355 
00356 <span class="comment">//----------------------------------------------</span>
00357 <span class="comment">// BASE UNITS FOR BASE MEASURES</span>
00358 
00359 <span class="keyword">const</span> Mass kilogram;
00360 <span class="keyword">const</span> Length metre;
00361 <span class="keyword">const</span> Time second;
00362 <span class="keyword">const</span> Temperature Kelvin;
00363 <span class="keyword">const</span> Current ampere;
00364 
00365 <span class="comment">//------------------------------------</span>
00366 <span class="comment">// SOME ALTERNATIVE NAMES</span>
00367 
00368 <span class="keyword">typedef</span> Velocity <a class="code" href="class_units.html">Speed</a>;
00369 <span class="keyword">typedef</span> Length <a class="code" href="class_units.html">Distance</a>;
00370 <span class="keyword">typedef</span> Energy <a class="code" href="class_units.html">Heat</a>;
00371 <span class="keyword">typedef</span> Heat <a class="code" href="class_units.html">Work</a>;              <span class="comment">// nice</span>
00372 
00373 <span class="keyword">typedef</span> Power <a class="code" href="class_units.html">HeatRate</a>;
00374 <span class="keyword">typedef</span> PowerPerLength <a class="code" href="class_units.html">HeatRatePerLength</a>;
00375 <span class="keyword">typedef</span> PowerPerTemperature <a class="code" href="class_units.html">HeatRatePerTemperature</a>;
00376 
00377 <span class="keyword">typedef</span> Pressure <a class="code" href="class_units.html">Stress</a>;
00378 <span class="keyword">typedef</span> HeatTransferCoefficient <a class="code" href="class_units.html">HTCoeff</a>;
00379 <span class="keyword">typedef</span> SpecificEntropy <a class="code" href="class_units.html">SpecificHeatCapacity</a>;   <span class="comment">// not the same but the units are the same</span>
00380 <span class="keyword">typedef</span> SpecificHeatCapacity <a class="code" href="class_units.html">SpecHeatCap</a>;
00381 <span class="keyword">typedef</span> SpecificHeatCapacity SpecificGasConstant;
00382 <span class="keyword">typedef</span> SpecificGasConstant <a class="code" href="class_units.html">SpecGasConst</a>;
00383 <span class="comment">//------------------------------------</span>
00384 <span class="comment">// SI MULTIPLIERS</span>
00385 
00386 <span class="keyword">const</span> <span class="keywordtype">double</span> Tera = 1e12;
00387 <span class="keyword">const</span> <span class="keywordtype">double</span> Giga = 1e9;
00388 <span class="keyword">const</span> <span class="keywordtype">double</span> Mega = 1e6;
00389 <span class="keyword">const</span> <span class="keywordtype">double</span> kilo = 1e3;
00390 <span class="keyword">const</span> <span class="keywordtype">double</span> hecta = 1e2;
00391 <span class="keyword">const</span> <span class="keywordtype">double</span> Deca = 10;
00392 <span class="keyword">const</span> <span class="keywordtype">double</span> deci = 0.1;
00393 <span class="keyword">const</span> <span class="keywordtype">double</span> centi = 1e-2;
00394 <span class="keyword">const</span> <span class="keywordtype">double</span> milli = 1e-3;
00395 <span class="keyword">const</span> <span class="keywordtype">double</span> micro = 1e-6;
00396 
00397 <span class="comment">//------------------------------------</span>
00398 <span class="comment">// COMMON MEASURES (SI)</span>
00399 
00400 <span class="keyword">const</span> Mass gram = milli * kilogram;
00401 <span class="keyword">const</span> Mass kg = kilogram;
00402 
00403 <span class="keyword">const</span> Length centimetre = metre / 100.0;
00404 <span class="keyword">const</span> Length kilometre = 1000.0 * metre;
00405 
00406 <span class="keyword">const</span> Area metre2 = metre * metre;
00407 <span class="keyword">const</span> Area hectare = (100.0 * metre) * (100.0 * metre);
00408 
00409 <span class="keyword">const</span> Volume metre3 = metre2 * metre;
00410 <span class="keyword">const</span> Volume litre = milli * metre3;
00411 <span class="keyword">const</span> Volume centimetre3 =
00412     (centi * metre) * (centi * metre) * (centi * metre);
00413 
00414 <span class="keyword">const</span> Time minute = 60.0 * second;
00415 <span class="keyword">const</span> Time hour = 60.0 * minute;
00416 <span class="keyword">const</span> Time day = 24.0 * hour;
00417 
00418 <span class="keyword">const</span> Frequency Hertz = 1.0 / second;
00419 
00420 <span class="keyword">const</span> Force Newton = kilogram * metre / (second * second);
00421 
00422 <span class="keyword">const</span> Pressure Pascal = Newton / (metre * metre);
00423 <span class="keyword">const</span> Pressure bar = 100.0 * kilo * Pascal;
00424 <span class="keyword">const</span> Pressure MPa = Mega * Pascal;
00425 <span class="keyword">const</span> Pressure kPa = kilo * Pascal;
00426 <span class="keyword">const</span> Energy Joule = Newton * metre;
00427 <span class="keyword">const</span> Energy kJ = kilo * Joule;
00428 
00429 <span class="keyword">const</span> Power Watt = Joule / second;
00430 
00431 <span class="keyword">const</span> HeatFlux W_m2 = Watt / metre2;
00432 
00433 <span class="keyword">const</span> <span class="keywordtype">double</span> Percent = 1.0 / 100;
00434 
00435 <span class="comment">//------------------------------------</span>
00436 <span class="comment">// COMMON MEASURES (NON-SI)</span>
00437 
00438 <span class="keyword">const</span> Length mile = 1.609 * kilometre;
00439 <span class="keyword">const</span> Length foot = 304.8 * milli * metre;
00440 <span class="keyword">const</span> Length inch = 25.4 * milli * metre;
00441 
00442 <span class="keyword">const</span> Temperature Rankin = 0.556 * Kelvin;
00443 
00444 <span class="keyword">const</span> Frequency RPM = 1.0 / minute;
00445 
00446 <span class="comment">//------------------------------------</span>
00447 <span class="comment">// THERMODYNAMIC MEASURES</span>
00448 
00449 <span class="keyword">const</span> SpecificEnergy kJ_kg = kilo * Joule / kilogram;
00450 <span class="keyword">const</span> SpecificEnergy J_kg = Joule / kilogram;
00451 
00452 <span class="keyword">const</span> SpecificEntropy kJ_kgK = kilo * Joule / kilogram / Kelvin;
00453 <span class="keyword">const</span> SpecificEntropy J_kgK = Joule / kilogram / Kelvin;
00454 
00455 <span class="keyword">const</span> HeatTransferCoefficient W_m2K = Watt / metre2 / Kelvin;
00456 <span class="keyword">const</span> Conductivity W_mK = Watt / metre / Kelvin;
00457 <span class="keyword">const</span> Conductivity mW_mK = milli * W_mK;
00458 <span class="keyword">const</span> Density kg_m3 = kilogram / metre3;
00459 <span class="keyword">const</span> SpecificVolume m3_kg = metre3 / kilogram;
00460 
00461 <span class="keyword">const</span> MassFlowRate kg_s = kilogram / second;
00462 <span class="keyword">const</span> VolFlowRate m3_s = metre3 / second;
00463 
00464 <span class="keyword">const</span> HeatCapacityPerLength J_mK = Joule / metre / Kelvin;
00465 
00466 <span class="comment">//------------------------------------</span>
00467 <span class="comment">// ELECTRICAL STUFF</span>
00468 
00469 <span class="keyword">const</span> ElecPotential volt = Watt / ampere;
00470 <span class="keyword">const</span> Charge Coulomb = ampere * second;
00471 <span class="keyword">const</span> Capacitance Farad = volt / Coulomb;
00472 <span class="keyword">const</span> Resistance Ohm = volt / ampere;
00473 
00474 <span class="comment">//------------------------------------</span>
00475 <span class="comment">// HANDLING TEMPERATURES</span>
00476 
00477 <span class="keyword">const</span> Temperature ZeroCelsius = 273.15 * Kelvin;
00478 <span class="keyword">const</span> Temperature ZeroFahrenheit = ZeroCelsius - 32.0 * Rankin;
00479 
00484 <span class="keyword">inline</span> <span class="keywordtype">double</span>
00485 tocelsius(<span class="keyword">const</span> Temperature&amp; T){
00486         <span class="keywordtype">double</span> d = *reinterpret_cast&lt;const double*&gt;(&amp;T);
00487         <span class="keywordflow">return</span> d - 273.15;
00488 }
00489 
00495 <span class="keyword">inline</span> Temperature
00496 fromcelsius(<span class="keyword">const</span> <span class="keywordtype">double</span> &amp;T_C){
00497         <span class="keywordflow">return</span> (T_C * Kelvin) + ZeroCelsius;
00498 }
00499 
00503 <span class="keyword">inline</span> <span class="keywordtype">double</span>
00504 tofahrenheit(<span class="keyword">const</span> Temperature &amp;T){
00505         <span class="keywordflow">return</span> (T - ZeroFahrenheit) / Rankin;
00506 }
00507 
00509 
00512 <span class="keyword">inline</span> Temperature
00513 fromfahrenheit(<span class="keyword">const</span> <span class="keywordtype">double</span> &amp;T_F){
00514         <span class="keywordflow">return</span> (T_F * Rankin) + ZeroFahrenheit;
00515 }
00516 
00517 <span class="preprocessor">#endif                          // UNITS_H</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Tue Mar 22 19:07:06 2005 for freesteam by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
