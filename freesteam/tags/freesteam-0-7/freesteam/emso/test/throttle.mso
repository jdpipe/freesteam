#* 
    freesteam stream integration for use in steam system calculations
    
    Based on steam.mso by Rafael de Pelegrini Soares,

    Copyright 2002-2005 Rafael de Pelegrini Soares.
    Modified by John Pye 2005 http://freesteam.sf.net
    
    This copyright statement must not be deleted and must be
    included in any modification or adaptation of this Model.
*#

using "steamequipment";

#*
    Isenthalpic throttle
*#
Model Throttle as SteamEquipment_ph # 8 - 2 = 6
	
	EQUATIONS
	# Mass conservation	
	In.mdot = Out.mdot;
	m = 0 * "kg";
	
	# Energy conservation, no work, no volume
	Qdot - Wdot = Out.h * Out.mdot - In.h * In.mdot;
	H = 0 * "J";
	Wdot = 0 * "W";
	
	# Isenthalpic
	In.h = Out.h;
	
end
