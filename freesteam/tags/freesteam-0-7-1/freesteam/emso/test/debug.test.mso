#* 
	freesteam stream integration for use in steam system calculations
	
	Based on steam.mso by Rafael de Pelegrini Soares,
	Copyright 2002-2005 Rafael de Pelegrini Soares.

	Modified by John Pye 2005 http://freesteam.sf.net
*#

using "streams";

Model Debug as Steam

	PARAMETERS
	freesteam as CalcObject(File="emsofreesteam", Debug="true");
	
	VARIABLES
	mdot as MassFlowRate;
	
	EQUATIONS
	"Steam properties"
	[T, s] = freesteam.Ts_ph(p, h);	

end

FlowSheet DebugTest # 0
	
	DEVICES
	S1 as Debug; # 3
		
	SPECIFY # -5
	S1.mdot = 38 * "kg/s";
	S1.p = 60 * "bar";
	S1.h = 3000 * "kJ/kg";	

	OPTIONS
	mode = "steady";
	outputLevel = "all";
	
end
